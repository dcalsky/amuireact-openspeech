{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c2376453b866f7ff5b4c","webpack:///./src/index.js","webpack:///external \"react\"","webpack:///./~/classnames/index.js"],"names":["Openspeech","createClass","propTypes","enable","PropTypes","bool","required","appid","string","timestamp","any","expires","number","secretKey","url","compress","reconnection","resultType","resultCharset","engineType","punctuationType","getVolume","func","getResult","getCurrentMessage","getDefaultProps","Date","toLocaleTimeString","volume","err","result","message","componentWillReceiveProps","nextProps","prevProps","_handleStartListen","_handleStopListen","componentWillUpdate","nextState","getInitialState","loadCompleted","session","ssbParam","componentWillMount","IFlyIatSession","setState","props","state","start","stop","render"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACtCA;;;;AACA;;;;;;AACA;;;;;;;AAOA,KAAMA,aAAa,gBAAMC,WAAN,CAAkB;AAAA;;AACnCC,cAAW;AACTC,aAAQ,gBAAMC,SAAN,CAAgBC,IAAhB,CAAqBC,QADpB,EAC8B;AACvCC,YAAO,gBAAMH,SAAN,CAAgBI,MAAhB,CAAuBF,QAFrB,EAE+B;AACxCG,gBAAW,gBAAML,SAAN,CAAgBM,GAHlB,EAGuB;AAChCC,cAAS,gBAAMP,SAAN,CAAgBQ,MAJhB,EAIwB;AACjCC,gBAAW,gBAAMT,SAAN,CAAgBI,MAAhB,CAAuBF,QALzB,EAKmC;AAC5CQ,UAAK,gBAAMV,SAAN,CAAgBI,MANZ,EAMoB;AAC7BO,eAAU,gBAAMX,SAAN,CAAgBI,MAPjB,EAOyB;AAClCQ,mBAAc,gBAAMZ,SAAN,CAAgBC,IARrB,EAQ2B;AACpCY,iBAAY,gBAAMb,SAAN,CAAgBI,MATnB,EAS2B;AACpCU,oBAAe,gBAAMd,SAAN,CAAgBI,MAVtB,EAU8B;AACvCW,iBAAY,gBAAMf,SAAN,CAAgBI,MAXnB,EAW2B;AACpCY,sBAAiB,gBAAMhB,SAAN,CAAgBQ,MAZxB,EAYgC;AACzCS,gBAAW,gBAAMjB,SAAN,CAAgBkB,IAblB,EAawB;AACjCC,gBAAW,gBAAMnB,SAAN,CAAgBkB,IAdlB,EAcwB;AACjCE,wBAAmB,gBAAMpB,SAAN,CAAgBkB,IAf1B,EADwB;AAkBnCG,kBAlBmC,6BAkBhB;AACjB,YAAO;AACLtB,eAAQ,KADH;AAELM,kBAAW,IAAIiB,IAAJ,GAAWC,kBAAX,EAFN;AAGLhB,gBAAS,KAHJ,EAGW;AAChBG,YAAK,8BAJA;AAKLC,iBAAU,OALL;AAMLC,qBAAc,MANT;AAOLC,mBAAY,MAPP;AAQLC,sBAAe,MARV;AASLC,mBAAY,QATP;AAULC,wBAAiB,CAVZ,EAUe;AACpBC,gBAXK,qBAWKO,MAXL,EAWa,CAAE,CAXf;AAYLL,gBAZK,qBAYKM,GAZL,EAYUC,MAZV,EAYkB,CAAE,CAZpB;AAaLN,wBAbK,6BAaaO,OAbb,EAasB,CAAE;AAbxB,MAAP;AAeD,IAlCkC;AAmCnCC,4BAnCmC,qCAmCTC,SAnCS,EAmCEC,SAnCF,EAmCa;AAC9C,SAAM/B,SAAS8B,UAAU9B,MAAV,KAAqB+B,UAAU/B,MAA/B,IAAyC8B,UAAU9B,MAAlE;AACA,SAAGA,MAAH,EAAW;AACT,YAAKgC,kBAAL;AACD,MAFD,MAEO;AACL,YAAKC,iBAAL;AACD;AACF,IA1CkC;AA2CnCC,sBA3CmC,+BA2CdJ,SA3Cc,EA2CHK,SA3CG,EA2CQ,CAE1C,CA7CkC;AA8CnCC,kBA9CmC,6BA8CjB;AAChB,YAAO;AACLC,sBAAe,KADV;AAELC,gBAAS,IAFJ;AAGLC,iBAAU,EAHL;AAILZ,eAAQ;AAJH,MAAP;AAMD,IArDkC;AAsDnCa,qBAtDmC,gCAsDd;AACnB,SAAG,CAACC,cAAJ,EAAoB;AAClB,YAAKC,QAAL,CAAc,EAACL,eAAe,KAAhB,EAAd;AACA,aAAO,6CAAP;AACD;AACD,SAAIC,UAAU,IAAIG,cAAJ,CAAmB;AAC/B,cAAuB,KAAKE,KAAL,CAAWhC,GADH;AAE/B,uBAAuB,KAAKgC,KAAL,CAAW9B,YAFH;AAG/B,4BAAuB,KAHQ;AAI/B,mBAAuB,KAAK8B,KAAL,CAAW/B;AAJH,MAAnB,CAAd;AAMA,UAAK8B,QAAL,CAAc;AACZJ,gBAASA,OADG;AAEZD,sBAAe,IAFH;AAGZE,iBAAU;AACR,yBAAiB,IADT;AAER,mBAAW,+EACT,KAAKI,KAAL,CAAW5B,aADF,GACkB,SADlB,GAC8B,KAAK4B,KAAL,CAAW3B,UADzC,GACsD,UADtD,GACmE,KAAK2B,KAAL,CAAW7B,UAD9E,GAET,6HAFS,GAGT,KAAK6B,KAAL,CAAWvC,KAHF,GAGU,gBAHV,GAG6B,KAAKuC,KAAL,CAAWrC,SAHxC,GAGoD,cAHpD,GAGqE,KAAKqC,KAAL,CAAWnC,OALnF;AAMR,sBAAc;AANN;AAHE,MAAd;AAYD,IA7EkC;AA8EnCwB,qBA9EmC,gCA8Ed;AACnB,UAAKY,KAAL,CAAWN,OAAX,CAAmBO,KAAnB,CAAyB,KAAKD,KAAL,CAAWL,QAApC,EAA8C,KAAKI,KAAL,CAAWzB,SAAzD,EAAoE,KAAKyB,KAAL,CAAWvB,SAA/E,EAA0F,KAAKuB,KAAL,CAAWtB,iBAArG;AACD,IAhFkC;AAiFnCY,oBAjFmC,+BAiFf;AAClB,UAAKW,KAAL,CAAWN,OAAX,CAAmBQ,IAAnB,CAAwB,IAAxB;AACD,IAnFkC;AAoFnCC,SApFmC,oBAoF1B;AACP,YACE,0CADF;AAID;AAzFkC,EAAlB,CAAnB;;mBA4FelD,U;;;;;;;ACrGf,gD;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAgB;;AAEhB;AACA;;AAEA,kBAAiB,sBAAsB;AACvC;AACA;;AAEA;;AAEA;AACA;AACA,KAAI;AACJ;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA,EAAC","file":"amuireact-openspeech.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"React-openspeech\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"React-openspeech\"] = factory(root[\"react\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c2376453b866f7ff5b4c\n **/","import React from 'react';\nimport classNames from 'classnames';\n/**\n * 类说明\n * @class Openspeech\n * @constructor\n * @props\n */\n\nconst Openspeech = React.createClass({\n  propTypes: {\n    enable: React.PropTypes.bool.required, // component state of running\n    appid: React.PropTypes.string.required, // your private app id\n    timestamp: React.PropTypes.any, // time stamp\n    expires: React.PropTypes.number, // expires\n    secretKey: React.PropTypes.string.required, // your secret key\n    url: React.PropTypes.string, // server address\n    compress: React.PropTypes.string, // voice compress algorithm\n    reconnection: React.PropTypes.bool, // whether client support reconnection after disconnecting\n    resultType: React.PropTypes.string, // format for result: json or plain\n    resultCharset: React.PropTypes.string, // format of result charset\n    engineType: React.PropTypes.string, // decide which engine to distinguish\n    punctuationType: React.PropTypes.number, // whether result includes punctuation marks\n    getVolume: React.PropTypes.func, // a callback function to get the current volume\n    getResult: React.PropTypes.func, // a callback function to get the result from server\n    getCurrentMessage: React.PropTypes.func, // a callback function to get the current status\n  },\n  getDefaultProps () {\n    return {\n      enable: false,\n      timestamp: new Date().toLocaleTimeString(),\n      expires: 86400, // A day\n      url: 'http://webapi.openspeech.cn/',\n      compress: 'speex',\n      reconnection: 'true',\n      resultType: 'json',\n      resultCharset: 'utf8',\n      engineType: 'sms16k',\n      punctuationType: 1, // the default result has punctuation marks\n      getVolume(volume) {},\n      getResult(err, result) {},\n      getCurrentMessage(message) {}\n    };\n  },\n  componentWillReceiveProps(nextProps, prevProps) {\n    const enable = nextProps.enable !== prevProps.enable && nextProps.enable;\n    if(enable) {\n      this._handleStartListen();\n    } else {\n      this._handleStopListen();\n    }\n  },\n  componentWillUpdate (nextProps, nextState) {\n\n  },\n  getInitialState() {\n    return {\n      loadCompleted: false,\n      session: null,\n      ssbParam: {},\n      result: null\n    }\n  },\n  componentWillMount() {\n    if(!IFlyIatSession) {\n      this.setState({loadCompleted: false});\n      throw (\"Not loading correct the Openspeech modules!\");\n    }\n    let session = new IFlyIatSession({\n      'url'                : this.props.url,\n      'reconnection'       : this.props.reconnection,\n      'reconnectionDelay'  : 30000,\n      'compress'           : this.props.compress\n    });\n    this.setState({\n      session: session,\n      loadCompleted: true,\n      ssbParam: {\n        \"grammar_list\" : null,\n        \"params\" : \"aue=speex-wb;-1, usr = mkchen, ssm = 1, sub = iat, net_type = wifi, rse = \"\n        + this.props.resultCharset + \", ent =\" + this.props.engineType + \", rst = \" + this.props.resultType\n        + \", auf  = audio/L16;rate=16000, vad_enable = 1, vad_timeout = 5000, vad_speech_tail = 500, compress = igzip, caller.appid = \"\n        + this.props.appid + \", timestamp = \" + this.props.timestamp + \", expires = \" + this.props.expires,\n        \"signature\" : \"TEST SIGNATURE\"\n      }\n    })\n  },\n  _handleStartListen() {\n    this.state.session.start(this.state.ssbParam, this.props.getVolume, this.props.getResult, this.props.getCurrentMessage);\n  },\n  _handleStopListen() {\n    this.state.session.stop(null);\n  },\n  render() {\n    return (\n      <div>\n      </div>\n    )\n  }\n});\n\nexport default Openspeech\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 1\n ** module chunks = 0\n **/","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/classnames/index.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}